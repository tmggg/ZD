<Window x:Class="SgS.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ap="clr-namespace:SgS.AttachProperty"
        xmlns:cv="clr-namespace:SgS.Coverter"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        x:Name="MainWindow1"
        Title="MainWindow"
        Width="1100"
        Height="680"
        Background="Transparent"
        DataContext="{Binding Source={StaticResource Locator}, Path=Main}"
        ResizeMode="NoResize"
        Style="{StaticResource ShadowWindow}"
        WindowStartupLocation="CenterScreen"
        mc:Ignorable="d">
    <Window.Resources>
        <Style x:Key="ExtendTabControl" TargetType="{x:Type hc:TabControl}">
            <Setter Property="Padding" Value="0" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type hc:TabControl}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid x:Name="templateRoot"
                                  ClipToBounds="True"
                                  KeyboardNavigation.TabNavigation="Local"
                                  SnapsToDevicePixels="True">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition x:Name="ColumnDefinition0" />
                                    <ColumnDefinition x:Name="ColumnDefinition1" Width="0" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{DynamicResource BorderBrush}"
                                        BorderThickness="0,0,0,1">
                                    <hc:TabPanel x:Name="PART_HeaderPanel"
                                                 MinHeight="{TemplateBinding TabItemHeight}"
                                                 Margin="0,0,-1,-1"
                                                 HorizontalAlignment="Left"
                                                 Panel.ZIndex="1"
                                                 Background="{DynamicResource SecondaryTextBrush}"
                                                 IsItemsHost="True"
                                                 IsTabFillEnabled="{TemplateBinding IsTabFillEnabled}"
                                                 KeyboardNavigation.TabIndex="1"
                                                 TabItemHeight="{TemplateBinding TabItemHeight}"
                                                 TabItemWidth="{TemplateBinding TabItemWidth}" />
                                </Border>
                                <Border x:Name="contentPanel"
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        Background="{DynamicResource SecondaryRegionBrush}"
                                        KeyboardNavigation.DirectionalNavigation="Contained"
                                        KeyboardNavigation.TabIndex="2"
                                        KeyboardNavigation.TabNavigation="Local">
                                    <ContentPresenter x:Name="PART_SelectedContentHost"
                                                      Margin="{TemplateBinding Padding}"
                                                      Content="{TemplateBinding SelectedContent}"
                                                      ContentSource="SelectedContent"
                                                      ContentStringFormat="{TemplateBinding SelectedContentStringFormat}"
                                                      ContentTemplate="{TemplateBinding SelectedContentTemplate}"
                                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </Border>
                                <Border Grid.Row="0"
                                        Grid.Column="0"
                                        Margin="0,-1,0,0"
                                        HorizontalAlignment="Right"
                                        Background="{DynamicResource RegionBrush}"
                                        BorderBrush="{DynamicResource BorderBrush}"
                                        BorderThickness="1,0,0,1"
                                        Visibility="{Binding Visibility, ElementName=PART_OverflowButton}">
                                    <hc:ContextMenuToggleButton x:Name="PART_OverflowButton"
                                                                hc:IconElement.Geometry="M512,801.6896L5.12,282.0096 63.2832,222.4128 512,682.3936 960.7168,222.3104 1018.88,281.9072 512,801.6896z"
                                                                hc:IconSwitchElement.GeometrySelected="M50.000001,0L100,51.262779 94.262627,57.141584 50.000001,11.767713 5.7373757,57.151686 0,51.27288z"
                                                                Menu="{x:Null}"
                                                                Visibility="Collapsed">
                                        <hc:ContextMenuToggleButton.Style>
                                            <Style TargetType="{x:Type ToggleButton}">
                                                <Setter Property="Background" Value="Transparent" />
                                                <Setter Property="BorderBrush" Value="Transparent" />
                                                <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                            <Border Background="{TemplateBinding Background}"
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}">
                                                                <ContentControl Margin="{TemplateBinding Padding}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                    <Path x:Name="PathIcon"
                                                                          Width="{TemplateBinding hc:IconElement.Width}"
                                                                          Height="{TemplateBinding hc:IconElement.Height}"
                                                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                          Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                          Fill="{TemplateBinding Foreground}"
                                                                          SnapsToDevicePixels="True"
                                                                          Stretch="Uniform" />
                                                                </ContentControl>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsChecked" Value="True">
                                                                    <Setter TargetName="PathIcon" Property="Data" Value="{Binding (hc:IconSwitchElement.GeometrySelected), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.BasedOn>
                                                    <Style TargetType="{x:Type ToggleButton}">
                                                        <Setter Property="Foreground" Value="{DynamicResource TextIconBrush}" />
                                                        <Setter Property="Width" Value="30" />
                                                        <Setter Property="Height" Value="30" />
                                                        <Setter Property="Padding" Value="8" />
                                                        <Setter Property="hc:IconElement.Geometry" Value="{x:Null}" />
                                                        <Setter Property="hc:IconSwitchElement.GeometrySelected" Value="{x:Null}" />
                                                        <Setter Property="hc:BorderElement.CornerRadius" Value="4" />
                                                        <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
                                                        <Setter Property="BorderThickness" Value="0" />
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                                    <hc:SimplePanel>
                                                                        <Border Background="{TemplateBinding Background}" CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                        <Border BorderBrush="{TemplateBinding BorderBrush}"
                                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                                CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}">
                                                                            <ContentControl Margin="{TemplateBinding Padding}"
                                                                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                <Path x:Name="PathIcon"
                                                                                      Width="{TemplateBinding hc:IconElement.Width}"
                                                                                      Height="{TemplateBinding hc:IconElement.Height}"
                                                                                      Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                                      Fill="{TemplateBinding Foreground}"
                                                                                      SnapsToDevicePixels="True"
                                                                                      Stretch="Uniform" />
                                                                            </ContentControl>
                                                                        </Border>
                                                                        <Border x:Name="BorderChecked"
                                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                                BorderThickness="4"
                                                                                CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}"
                                                                                Visibility="Collapsed" />
                                                                    </hc:SimplePanel>
                                                                    <ControlTemplate.Triggers>
                                                                        <Trigger Property="IsChecked" Value="True">
                                                                            <Setter TargetName="PathIcon" Property="Data" Value="{Binding (hc:IconSwitchElement.GeometrySelected), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                        </Trigger>
                                                                    </ControlTemplate.Triggers>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                        <Style.BasedOn>
                                                            <Style TargetType="{x:Type Control}">
                                                                <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}" />
                                                                <Setter Property="FontSize" Value="12" />
                                                                <Setter Property="FocusVisualStyle">
                                                                    <Setter.Value>
                                                                        <Style>
                                                                            <Setter Property="Control.Template">
                                                                                <Setter.Value>
                                                                                    <ControlTemplate>
                                                                                        <Rectangle RadiusX="4" RadiusY="4">
                                                                                            <Rectangle.Style>
                                                                                                <Style TargetType="{x:Type Rectangle}">
                                                                                                    <Setter Property="Margin" Value="-2" />
                                                                                                    <Setter Property="Opacity" Value="0.6" />
                                                                                                    <Setter Property="SnapsToDevicePixels" Value="True" />
                                                                                                    <Setter Property="Stroke" Value="{DynamicResource SecondaryBorderBrush}" />
                                                                                                    <Setter Property="StrokeThickness" Value="2" />
                                                                                                    <Setter Property="StrokeDashArray" Value="1 1" />
                                                                                                </Style>
                                                                                            </Rectangle.Style>
                                                                                        </Rectangle>
                                                                                    </ControlTemplate>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </Style>
                                                                    </Setter.Value>
                                                                </Setter>
                                                            </Style>
                                                        </Style.BasedOn>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Opacity" Value="0.9" />
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter Property="Opacity" Value="0.6" />
                                                            </Trigger>
                                                            <Trigger Property="IsEnabled" Value="False">
                                                                <Setter Property="Opacity" Value="0.4" />
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Style.BasedOn>
                                            </Style>
                                        </hc:ContextMenuToggleButton.Style>
                                    </hc:ContextMenuToggleButton>
                                </Border>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsScrollable" Value="True" />
                        <Condition Property="IsTabFillEnabled" Value="False" />
                    </MultiTrigger.Conditions>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type hc:TabControl}">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{StaticResource GridLineBrush}"
                                        BorderThickness="2">
                                    <Grid x:Name="templateRoot"
                                          ClipToBounds="True"
                                          KeyboardNavigation.TabNavigation="Local"
                                          SnapsToDevicePixels="True">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>
                                        <Border Grid.Row="0"
                                                Grid.Column="0"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Top"
                                                Panel.ZIndex="2"
                                                Background="Transparent">
                                            <Border.CacheMode>
                                                <BitmapCache SnapsToDevicePixels="True" />
                                            </Border.CacheMode>
                                            <Border.Visibility>
                                                <TemplateBinding Property="ShowScrollButton">
                                                    <TemplateBinding.Converter>
                                                        <BooleanToVisibilityConverter />
                                                    </TemplateBinding.Converter>
                                                </TemplateBinding>
                                            </Border.Visibility>
                                            <StackPanel Orientation="Horizontal">
                                                <RepeatButton x:Name="PART_ScrollButtonLeft"
                                                              Padding="8"
                                                              hc:IconElement.Geometry="M394.24,512L683.52,248.32C693.76,238.08 693.76,222.72 683.52,212.48 673.28,202.24 657.92,202.24 647.68,212.48L340.48,491.52C335.36,496.64 332.8,504.32 332.8,512 332.8,519.68 335.36,527.36 340.48,532.48L647.68,811.52C657.92,821.76 673.28,821.76 683.52,811.52 693.76,801.28 693.76,785.92 683.52,775.68L394.24,512z"
                                                              Background="{DynamicResource SecondaryRegionBrush}"
                                                              Focusable="False"
                                                              Foreground="{DynamicResource PrimaryTextBrush}"
                                                              Visibility="Collapsed">
                                                    <RepeatButton.Style>
                                                        <Style TargetType="{x:Type RepeatButton}">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="BorderBrush" Value="Transparent" />
                                                            <Setter Property="hc:BorderElement.CornerRadius" Value="0" />
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                        <Border Background="{TemplateBinding Background}"
                                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                                CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}">
                                                                            <ContentControl Margin="{TemplateBinding Padding}"
                                                                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                <Path Width="{TemplateBinding hc:IconElement.Width}"
                                                                                      Height="{TemplateBinding hc:IconElement.Height}"
                                                                                      Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                                      Fill="{TemplateBinding Foreground}"
                                                                                      SnapsToDevicePixels="True"
                                                                                      Stretch="Uniform" />
                                                                            </ContentControl>
                                                                        </Border>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Style.BasedOn>
                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                    <Setter Property="Background" Value="{DynamicResource RegionBrush}" />
                                                                    <Setter Property="hc:BorderElement.CornerRadius" Value="4" />
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                <hc:SimplePanel>
                                                                                    <Border Background="{TemplateBinding Background}" CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                                    <Border BorderBrush="{TemplateBinding BorderBrush}"
                                                                                            BorderThickness="{TemplateBinding BorderThickness}"
                                                                                            CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}">
                                                                                        <StackPanel Margin="{TemplateBinding Padding}"
                                                                                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                    Orientation="Horizontal">
                                                                                            <Path x:Name="PathMain"
                                                                                                  Width="{TemplateBinding hc:IconElement.Width}"
                                                                                                  Height="{TemplateBinding hc:IconElement.Height}"
                                                                                                  Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                                                  Fill="{TemplateBinding Foreground}"
                                                                                                  SnapsToDevicePixels="True"
                                                                                                  Stretch="Uniform" />
                                                                                            <ContentPresenter x:Name="ContentPresenterMain"
                                                                                                              Margin="6,0,0,0"
                                                                                                              VerticalAlignment="Center"
                                                                                                              Content="{TemplateBinding Content}"
                                                                                                              ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                                              ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                                                                        </StackPanel>
                                                                                    </Border>
                                                                                </hc:SimplePanel>
                                                                                <ControlTemplate.Triggers>
                                                                                    <Trigger Property="Content" Value="{x:Null}">
                                                                                        <Setter TargetName="ContentPresenterMain" Property="Visibility" Value="Collapsed" />
                                                                                    </Trigger>
                                                                                    <Trigger Property="hc:IconElement.Geometry" Value="{x:Null}">
                                                                                        <Setter TargetName="PathMain" Property="Visibility" Value="Collapsed" />
                                                                                        <Setter TargetName="ContentPresenterMain" Property="Margin" Value="0" />
                                                                                    </Trigger>
                                                                                </ControlTemplate.Triggers>
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Style.BasedOn>
                                                                        <Style TargetType="{x:Type ButtonBase}">
                                                                            <Setter Property="Height" Value="30" />
                                                                            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
                                                                            <Setter Property="Padding" Value="10,6" />
                                                                            <Setter Property="Foreground" Value="{DynamicResource TextIconBrush}" />
                                                                            <Setter Property="BorderThickness" Value="0" />
                                                                            <Setter Property="HorizontalAlignment" Value="Center" />
                                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                                            <Setter Property="VerticalContentAlignment" Value="Center" />
                                                                            <Style.BasedOn>
                                                                                <Style TargetType="{x:Type Control}">
                                                                                    <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}" />
                                                                                    <Setter Property="FontSize" Value="12" />
                                                                                    <Setter Property="FocusVisualStyle">
                                                                                        <Setter.Value>
                                                                                            <Style>
                                                                                                <Setter Property="Control.Template">
                                                                                                    <Setter.Value>
                                                                                                        <ControlTemplate>
                                                                                                            <Rectangle RadiusX="4" RadiusY="4">
                                                                                                                <Rectangle.Style>
                                                                                                                    <Style TargetType="{x:Type Rectangle}">
                                                                                                                        <Setter Property="Margin" Value="-2" />
                                                                                                                        <Setter Property="Opacity" Value="0.6" />
                                                                                                                        <Setter Property="SnapsToDevicePixels" Value="True" />
                                                                                                                        <Setter Property="Stroke" Value="{DynamicResource SecondaryBorderBrush}" />
                                                                                                                        <Setter Property="StrokeThickness" Value="2" />
                                                                                                                        <Setter Property="StrokeDashArray" Value="1 1" />
                                                                                                                    </Style>
                                                                                                                </Rectangle.Style>
                                                                                                            </Rectangle>
                                                                                                        </ControlTemplate>
                                                                                                    </Setter.Value>
                                                                                                </Setter>
                                                                                            </Style>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </Style.BasedOn>
                                                                        </Style>
                                                                    </Style.BasedOn>
                                                                    <Style.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Opacity" Value="0.9" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Opacity" Value="0.6" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                            <Setter Property="Opacity" Value="0.4" />
                                                                        </Trigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Style.BasedOn>
                                                        </Style>
                                                    </RepeatButton.Style>
                                                </RepeatButton>
                                                <RepeatButton HorizontalAlignment="Stretch"
                                                              VerticalContentAlignment="Stretch"
                                                              hc:BorderElement.CornerRadius="0"
                                                              Background="{StaticResource GridBgBrush}"
                                                              BorderBrush="{StaticResource GridLineBrush}"
                                                              BorderThickness="0,0,2,0"
                                                              Command="{Binding AddTabItemCommand}"
                                                              CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=hc:TabControl}}"
                                                              FontSize="20">
                                                    <RepeatButton.Content>
                                                        <Path Width="12"
                                                              Height="12"
                                                              Data="M512.17594 1023.648121c-29.52585 0-58.347943-6.397801-58.347943-37.395145V564.030115H37.459123c-23.76783 0-37.459123-22.392303-37.459123-51.182406 0-26.614851 10.076536-51.790197 35.187904-51.790198h425.005904V43.888913c0-28.054356 20.888819-43.888913 51.854176-43.888913 28.790103 0 51.182406 12.795602 51.182406 37.395145v416.49683h430.156133c28.790103 0 30.261598 34.516135 30.261598 58.283965s-7.933273 51.182406-36.723376 51.182406H563.326357v422.926619c0.735747 24.40761-21.592578 37.363156-51.150417 37.363156z"
                                                              Fill="White"
                                                              SnapsToDevicePixels="True"
                                                              Stretch="Uniform" />
                                                    </RepeatButton.Content>
                                                    <hc:Poptip.Instance>
                                                        <hc:Poptip Content="添加方法"
                                                                   FontSize="12"
                                                                   PlacementType="TopRight" />
                                                    </hc:Poptip.Instance>
                                                </RepeatButton>
                                            </StackPanel>
                                        </Border>
                                        <hc:ScrollViewer x:Name="PART_OverflowScrollviewer"
                                                         Grid.Row="0"
                                                         Grid.Column="1"
                                                         CanMouseWheel="True"
                                                         HorizontalScrollBarVisibility="Hidden"
                                                         IsDeferredScrollingEnabled="True"
                                                         IsInertiaEnabled="True"
                                                         Orientation="Horizontal">
                                            <Border x:Name="PART_HeaderBorder" Background="{StaticResource GaryBrush}">
                                                <hc:TabPanel x:Name="PART_HeaderPanel"
                                                             MinHeight="{TemplateBinding TabItemHeight}"
                                                             HorizontalAlignment="Left"
                                                             Panel.ZIndex="1"
                                                             Background="Transparent"
                                                             IsItemsHost="True"
                                                             IsTabFillEnabled="{TemplateBinding IsTabFillEnabled}"
                                                             KeyboardNavigation.TabIndex="1"
                                                             TabItemHeight="{TemplateBinding TabItemHeight}"
                                                             TabItemWidth="{TemplateBinding TabItemWidth}" />
                                            </Border>
                                        </hc:ScrollViewer>
                                        <Border Grid.Row="0"
                                                Grid.Column="2"
                                                Margin="0,0,0,0"
                                                HorizontalAlignment="Right"
                                                Background="{DynamicResource RegionBrush}"
                                                BorderBrush="{DynamicResource BorderBrush}"
                                                BorderThickness="1,0,0,1"
                                                Visibility="Collapsed">
                                            <Border.CacheMode>
                                                <BitmapCache SnapsToDevicePixels="True" />
                                            </Border.CacheMode>
                                            <StackPanel Orientation="Horizontal">
                                                <RepeatButton x:Name="PART_ScrollButtonRight"
                                                              Padding="8"
                                                              hc:IconElement.Geometry="M4.1666641,0C5.2083321,0,6.25,0.41666794,7.0833321,1.25L57.083331,46.666664C57.916664,47.499998 58.33333,48.749998 58.333329,49.999998 58.33333,51.249997 57.916664,52.499997 57.083331,53.333331L7.0833321,98.749996C5.4166641,100.41666 2.9166641,100.41666 1.2499962,98.749996 -0.41666794,97.083328 -0.41666794,94.583328 1.2499962,92.916664L48.333331,49.999998 1.2499962,7.0833321C-0.41666794,5.4166641 -0.41666794,2.9166641 1.2499962,1.25 2.0833282,0.41666794 3.1249962,0 4.1666641,0z"
                                                              Background="{DynamicResource SecondaryRegionBrush}"
                                                              BorderBrush="{DynamicResource BorderBrush}"
                                                              Focusable="False"
                                                              Foreground="{DynamicResource PrimaryTextBrush}">
                                                    <RepeatButton.Style>
                                                        <Style TargetType="{x:Type RepeatButton}">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="BorderBrush" Value="Transparent" />
                                                            <Setter Property="hc:BorderElement.CornerRadius" Value="0" />
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                        <Border Background="{TemplateBinding Background}"
                                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                                CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}">
                                                                            <ContentControl Margin="{TemplateBinding Padding}"
                                                                                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                <Path Width="{TemplateBinding hc:IconElement.Width}"
                                                                                      Height="{TemplateBinding hc:IconElement.Height}"
                                                                                      Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                                      Fill="{TemplateBinding Foreground}"
                                                                                      SnapsToDevicePixels="True"
                                                                                      Stretch="Uniform" />
                                                                            </ContentControl>
                                                                        </Border>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Style.BasedOn>
                                                                <Style TargetType="{x:Type RepeatButton}">
                                                                    <Setter Property="Background" Value="{DynamicResource RegionBrush}" />
                                                                    <Setter Property="hc:BorderElement.CornerRadius" Value="4" />
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate TargetType="{x:Type RepeatButton}">
                                                                                <hc:SimplePanel>
                                                                                    <Border Background="{TemplateBinding Background}" CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                                    <Border BorderBrush="{TemplateBinding BorderBrush}"
                                                                                            BorderThickness="{TemplateBinding BorderThickness}"
                                                                                            CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}">
                                                                                        <StackPanel Margin="{TemplateBinding Padding}"
                                                                                                    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                    Orientation="Horizontal">
                                                                                            <Path x:Name="PathMain"
                                                                                                  Width="{TemplateBinding hc:IconElement.Width}"
                                                                                                  Height="{TemplateBinding hc:IconElement.Height}"
                                                                                                  Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                                                  Fill="{TemplateBinding Foreground}"
                                                                                                  SnapsToDevicePixels="True"
                                                                                                  Stretch="Uniform" />
                                                                                            <ContentPresenter x:Name="ContentPresenterMain"
                                                                                                              Margin="6,0,0,0"
                                                                                                              VerticalAlignment="Center"
                                                                                                              Content="{TemplateBinding Content}"
                                                                                                              ContentStringFormat="{TemplateBinding ContentStringFormat}"
                                                                                                              ContentTemplate="{TemplateBinding ContentTemplate}"
                                                                                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                                                                        </StackPanel>
                                                                                    </Border>
                                                                                </hc:SimplePanel>
                                                                                <ControlTemplate.Triggers>
                                                                                    <Trigger Property="Content" Value="{x:Null}">
                                                                                        <Setter TargetName="ContentPresenterMain" Property="Visibility" Value="Collapsed" />
                                                                                    </Trigger>
                                                                                    <Trigger Property="hc:IconElement.Geometry" Value="{x:Null}">
                                                                                        <Setter TargetName="PathMain" Property="Visibility" Value="Collapsed" />
                                                                                        <Setter TargetName="ContentPresenterMain" Property="Margin" Value="0" />
                                                                                    </Trigger>
                                                                                </ControlTemplate.Triggers>
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Style.BasedOn>
                                                                        <Style TargetType="{x:Type ButtonBase}">
                                                                            <Setter Property="Height" Value="30" />
                                                                            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
                                                                            <Setter Property="Padding" Value="10,6" />
                                                                            <Setter Property="Foreground" Value="{DynamicResource TextIconBrush}" />
                                                                            <Setter Property="BorderThickness" Value="0" />
                                                                            <Setter Property="HorizontalAlignment" Value="Center" />
                                                                            <Setter Property="VerticalAlignment" Value="Center" />
                                                                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                                                                            <Setter Property="VerticalContentAlignment" Value="Center" />
                                                                            <Style.BasedOn>
                                                                                <Style TargetType="{x:Type Control}">
                                                                                    <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}" />
                                                                                    <Setter Property="FontSize" Value="12" />
                                                                                    <Setter Property="FocusVisualStyle">
                                                                                        <Setter.Value>
                                                                                            <Style>
                                                                                                <Setter Property="Control.Template">
                                                                                                    <Setter.Value>
                                                                                                        <ControlTemplate>
                                                                                                            <Rectangle RadiusX="4" RadiusY="4">
                                                                                                                <Rectangle.Style>
                                                                                                                    <Style TargetType="{x:Type Rectangle}">
                                                                                                                        <Setter Property="Margin" Value="-2" />
                                                                                                                        <Setter Property="Opacity" Value="0.6" />
                                                                                                                        <Setter Property="SnapsToDevicePixels" Value="True" />
                                                                                                                        <Setter Property="Stroke" Value="{DynamicResource SecondaryBorderBrush}" />
                                                                                                                        <Setter Property="StrokeThickness" Value="2" />
                                                                                                                        <Setter Property="StrokeDashArray" Value="1 1" />
                                                                                                                    </Style>
                                                                                                                </Rectangle.Style>
                                                                                                            </Rectangle>
                                                                                                        </ControlTemplate>
                                                                                                    </Setter.Value>
                                                                                                </Setter>
                                                                                            </Style>
                                                                                        </Setter.Value>
                                                                                    </Setter>
                                                                                </Style>
                                                                            </Style.BasedOn>
                                                                        </Style>
                                                                    </Style.BasedOn>
                                                                    <Style.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Opacity" Value="0.9" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Opacity" Value="0.6" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                            <Setter Property="Opacity" Value="0.4" />
                                                                        </Trigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Style.BasedOn>
                                                        </Style>
                                                    </RepeatButton.Style>
                                                    <RepeatButton.Visibility>
                                                        <TemplateBinding Property="ShowScrollButton">
                                                            <TemplateBinding.Converter>
                                                                <BooleanToVisibilityConverter />
                                                            </TemplateBinding.Converter>
                                                        </TemplateBinding>
                                                    </RepeatButton.Visibility>
                                                </RepeatButton>
                                                <Border Width="1"
                                                        Background="{DynamicResource BorderBrush}"
                                                        Visibility="{Binding Visibility, ElementName=PART_OverflowButton}" />
                                                <hc:ContextMenuToggleButton x:Name="PART_OverflowButton"
                                                                            hc:IconElement.Geometry="M512,801.6896L5.12,282.0096 63.2832,222.4128 512,682.3936 960.7168,222.3104 1018.88,281.9072 512,801.6896z"
                                                                            hc:IconSwitchElement.GeometrySelected="M50.000001,0L100,51.262779 94.262627,57.141584 50.000001,11.767713 5.7373757,57.151686 0,51.27288z"
                                                                            Menu="{x:Null}"
                                                                            Visibility="Collapsed">
                                                    <hc:ContextMenuToggleButton.Style>
                                                        <Style TargetType="{x:Type ToggleButton}">
                                                            <Setter Property="Background" Value="Transparent" />
                                                            <Setter Property="BorderBrush" Value="Transparent" />
                                                            <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}" />
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                                        <Border Background="{TemplateBinding Background}"
                                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                                BorderThickness="{TemplateBinding BorderThickness}">
                                                                            <ContentControl Margin="{TemplateBinding Padding}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                <Path x:Name="PathIcon"
                                                                                      Width="{TemplateBinding hc:IconElement.Width}"
                                                                                      Height="{TemplateBinding hc:IconElement.Height}"
                                                                                      HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                      Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                                      Fill="{TemplateBinding Foreground}"
                                                                                      SnapsToDevicePixels="True"
                                                                                      Stretch="Uniform" />
                                                                            </ContentControl>
                                                                        </Border>
                                                                        <ControlTemplate.Triggers>
                                                                            <Trigger Property="IsChecked" Value="True">
                                                                                <Setter TargetName="PathIcon" Property="Data" Value="{Binding (hc:IconSwitchElement.GeometrySelected), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                            </Trigger>
                                                                        </ControlTemplate.Triggers>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Style.BasedOn>
                                                                <Style TargetType="{x:Type ToggleButton}">
                                                                    <Setter Property="Foreground" Value="{DynamicResource TextIconBrush}" />
                                                                    <Setter Property="Width" Value="30" />
                                                                    <Setter Property="Height" Value="30" />
                                                                    <Setter Property="Padding" Value="8" />
                                                                    <Setter Property="hc:IconElement.Geometry" Value="{x:Null}" />
                                                                    <Setter Property="hc:IconSwitchElement.GeometrySelected" Value="{x:Null}" />
                                                                    <Setter Property="hc:BorderElement.CornerRadius" Value="4" />
                                                                    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}" />
                                                                    <Setter Property="BorderThickness" Value="0" />
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate TargetType="{x:Type ToggleButton}">
                                                                                <hc:SimplePanel>
                                                                                    <Border Background="{TemplateBinding Background}" CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                                    <Border BorderBrush="{TemplateBinding BorderBrush}"
                                                                                            BorderThickness="{TemplateBinding BorderThickness}"
                                                                                            CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}">
                                                                                        <ContentControl Margin="{TemplateBinding Padding}"
                                                                                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                                                                            <Path x:Name="PathIcon"
                                                                                                  Width="{TemplateBinding hc:IconElement.Width}"
                                                                                                  Height="{TemplateBinding hc:IconElement.Height}"
                                                                                                  Data="{TemplateBinding hc:IconElement.Geometry}"
                                                                                                  Fill="{TemplateBinding Foreground}"
                                                                                                  SnapsToDevicePixels="True"
                                                                                                  Stretch="Uniform" />
                                                                                        </ContentControl>
                                                                                    </Border>
                                                                                    <Border x:Name="BorderChecked"
                                                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                                                            BorderThickness="4"
                                                                                            CornerRadius="{Binding (hc:BorderElement.CornerRadius), RelativeSource={RelativeSource TemplatedParent}}"
                                                                                            Visibility="Collapsed" />
                                                                                </hc:SimplePanel>
                                                                                <ControlTemplate.Triggers>
                                                                                    <Trigger Property="IsChecked" Value="True">
                                                                                        <Setter TargetName="PathIcon" Property="Data" Value="{Binding (hc:IconSwitchElement.GeometrySelected), RelativeSource={RelativeSource TemplatedParent}}" />
                                                                                    </Trigger>
                                                                                </ControlTemplate.Triggers>
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Style.BasedOn>
                                                                        <Style TargetType="{x:Type Control}">
                                                                            <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}" />
                                                                            <Setter Property="FontSize" Value="12" />
                                                                            <Setter Property="FocusVisualStyle">
                                                                                <Setter.Value>
                                                                                    <Style>
                                                                                        <Setter Property="Control.Template">
                                                                                            <Setter.Value>
                                                                                                <ControlTemplate>
                                                                                                    <Rectangle RadiusX="4" RadiusY="4">
                                                                                                        <Rectangle.Style>
                                                                                                            <Style TargetType="{x:Type Rectangle}">
                                                                                                                <Setter Property="Margin" Value="-2" />
                                                                                                                <Setter Property="Opacity" Value="0.6" />
                                                                                                                <Setter Property="SnapsToDevicePixels" Value="True" />
                                                                                                                <Setter Property="Stroke" Value="{DynamicResource SecondaryBorderBrush}" />
                                                                                                                <Setter Property="StrokeThickness" Value="2" />
                                                                                                                <Setter Property="StrokeDashArray" Value="1 1" />
                                                                                                            </Style>
                                                                                                        </Rectangle.Style>
                                                                                                    </Rectangle>
                                                                                                </ControlTemplate>
                                                                                            </Setter.Value>
                                                                                        </Setter>
                                                                                    </Style>
                                                                                </Setter.Value>
                                                                            </Setter>
                                                                        </Style>
                                                                    </Style.BasedOn>
                                                                    <Style.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Opacity" Value="0.9" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsPressed" Value="True">
                                                                            <Setter Property="Opacity" Value="0.6" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                            <Setter Property="Opacity" Value="0.4" />
                                                                        </Trigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Style.BasedOn>
                                                        </Style>
                                                    </hc:ContextMenuToggleButton.Style>
                                                </hc:ContextMenuToggleButton>
                                            </StackPanel>
                                        </Border>
                                        <Border x:Name="contentPanel"
                                                Grid.Row="1"
                                                Grid.Column="0"
                                                Grid.ColumnSpan="3"
                                                Background="Transparent"
                                                BorderBrush="{StaticResource GridLineBrush}"
                                                BorderThickness="0,2,0,0"
                                                KeyboardNavigation.DirectionalNavigation="Contained"
                                                KeyboardNavigation.TabIndex="2"
                                                KeyboardNavigation.TabNavigation="Local">
                                            <ContentPresenter x:Name="PART_SelectedContentHost"
                                                              Margin="{TemplateBinding Padding}"
                                                              Content="{TemplateBinding SelectedContent}"
                                                              ContentSource="SelectedContent"
                                                              ContentStringFormat="{TemplateBinding SelectedContentStringFormat}"
                                                              ContentTemplate="{TemplateBinding SelectedContentTemplate}"
                                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                        </Border>
                                        <Border x:Name="Mask_border"
                                                Grid.Row="1"
                                                Grid.Column="0"
                                                Grid.ColumnSpan="3"
                                                Background="#1D2837"
                                                BorderThickness="1,1,1,1"
                                                KeyboardNavigation.DirectionalNavigation="Contained"
                                                Visibility="Collapsed">
                                            <TextBlock HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       FontSize="24"
                                                       FontWeight="Black"
                                                       Foreground="White"
                                                       Text="请点击左上角号 + 添加序列" />
                                        </Border>
                                    </Grid>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Items.Count}" Value="0">
                                        <Setter TargetName="Mask_border" Property="Visibility" Value="Visible" />
                                    </DataTrigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </MultiTrigger>
            </Style.Triggers>
        </Style>
        <cv:Bool2Visibiliy x:Key="Bool2Visibiliy" />
        <cv:MultiConverter x:Key="MultiConverter" />

    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource Loading}" />
        </EventTrigger>
        <!--<EventTrigger SourceName="CloseButton" RoutedEvent="Button.Click">
            <BeginStoryboard Storyboard="{StaticResource Closing}"  />
        </EventTrigger>-->
    </Window.Triggers>

    <hc:Interaction.Triggers>
        <!--<hc:RoutedEventTrigger RoutedEvent="hc:TabItem.Closing">
                    <hc:EventToCommand Command="{Binding ClosingCmd}"
                                       PassEventArgsToCommand="True" />
                </hc:RoutedEventTrigger>-->
        <hc:EventTrigger EventName="Closing">
            <hc:EventToCommand Command="{Binding WindowClosingCommand}" PassEventArgsToCommand="True" />
        </hc:EventTrigger>
    </hc:Interaction.Triggers>

    <hc:TransitioningContentControl TransitionMode="Fade">
        <Border Grid.RowSpan="2"
                Padding="10"
                Background="{StaticResource Bg}">
            <hc:Interaction.Triggers>
                <!--<hc:RoutedEventTrigger RoutedEvent="hc:TabItem.Closing">
                    <hc:EventToCommand Command="{Binding ClosingCmd}"
                                       PassEventArgsToCommand="True" />
                </hc:RoutedEventTrigger>-->
                <hc:EventTrigger EventName="MouseLeftButtonDown">
                    <hc:EventToCommand Command="{Binding DragCommand}" CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}" />
                </hc:EventTrigger>
            </hc:Interaction.Triggers>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="50" />
                    <RowDefinition Height="60" />
                    <RowDefinition Height="80" />
                    <RowDefinition />
                </Grid.RowDefinitions>

                <Border Grid.Row="2"
                        Grid.RowSpan="2"
                        Background="#1D2837" />
                <Border Grid.Row="2"
                        Grid.RowSpan="2"
                        Margin="2,5,2,2"
                        Background="#293547" />

                <StackPanel HorizontalAlignment="Left"
                            VerticalAlignment="Stretch"
                            Orientation="Horizontal">
                    <Image Margin="5,2,0,2" Source="../Logo/Logo.png" />
                    <Border Width="1"
                            Height="40"
                            Margin="20,0,20,0"
                            Background="Black" />

                    <Border x:Name="StatusLight" ap:BorderAttach.Flashing="False">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Setter Property="BorderThickness" Value="2" />
                                <Setter Property="BorderBrush" Value="Black" />
                                <Setter Property="Margin" Value="0,0,20,0" />
                                <Setter Property="Width" Value="30" />
                                <Setter Property="Height" Value="30" />
                                <Setter Property="CornerRadius" Value="25" />
                                <Setter Property="Background" Value="Gray" />
                                <Style.Triggers>
                                    <MultiTrigger>
                                        <MultiTrigger.Conditions>
                                            <Condition Property="ap:BorderAttach.Flashing" Value="True" />
                                            <!--<Condition Property="Background" Value="Red"></Condition>-->
                                        </MultiTrigger.Conditions>
                                        <MultiTrigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <!--<ColorAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                    From="Gray" To="Red"
                                                                    RepeatBehavior="Forever"
                                                                    AutoReverse="True"
                                                                    Duration="0:0:0:0.5">
                                                    </ColorAnimation>-->
                                                    <DoubleAnimation AutoReverse="True"
                                                                     RepeatBehavior="Forever"
                                                                     Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Opacity)"
                                                                     From="1"
                                                                     To="0.0"
                                                                     Duration="0:0:0:0.5" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </MultiTrigger.EnterActions>
                                        <MultiTrigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <!--<ColorAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                    From="Gray" To="Red"
                                                                    RepeatBehavior="Forever"
                                                                    AutoReverse="True"
                                                                    Duration="0:0:0:0.5">
                                                    </ColorAnimation>-->
                                                    <DoubleAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Opacity)"
                                                                     From="0.0"
                                                                     To="1"
                                                                     Duration="0:0:0:0.01" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </MultiTrigger.ExitActions>
                                    </MultiTrigger>
                                    <!--<MultiTrigger>
                                        <MultiTrigger.Conditions>
                                            <Condition Property="ap:BorderAttach.Flashing" Value="True"></Condition>
                                    -->
                                    <!--<Condition Property="Background" Value="Yellow"></Condition>-->
                                    <!--
                                        </MultiTrigger.Conditions>
                                        <MultiTrigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                    From="Gray" To="Yellow"
                                                                    RepeatBehavior="Forever"
                                                                    AutoReverse="True"
                                                                    Duration="0:0:0:0.5">
                                                    </ColorAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </MultiTrigger.EnterActions>
                                    </MultiTrigger>-->
                                    <!--<Trigger Property="ap:BorderAttach.Flashing" Value="True">
                                        <Trigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                    From="Gray" To="Red"
                                                                    RepeatBehavior="Forever"
                                                                    AutoReverse="True"
                                                                    Duration="0:0:0:0.5">
                                                    </ColorAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.EnterActions>
                                    -->
                                    <!--<Trigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                    From="Red" To="Gray"
                                                                    AutoReverse="False"
                                                                    Duration="0:0:0:0.1">
                                                    </ColorAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.ExitActions>-->
                                    <!--
                                    </Trigger>-->
                                    <!--<DataTrigger Binding="{Binding RelativeSource={RelativeSource
                                        AncestorType=Border,Mode=FindAncestor},
                                        Path=(ap:BorderAttach.Flashing),Mode=OneWay}"
                                                 Value="true">
                                        <DataTrigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                    From="Gray" To="Red"
                                                                    RepeatBehavior="Forever"
                                                                    AutoReverse="True"
                                                                    Duration="0:0:0:1">
                                                    </ColorAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </DataTrigger.EnterActions>
                                        <DataTrigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                                                    From="Red" To="Gray"
                                                                    AutoReverse="False"
                                                                    Duration="0:0:0:0.1">
                                                    </ColorAnimation>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </DataTrigger.ExitActions>
                                    </DataTrigger>-->
                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                    </Border>
                    <TextBlock HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="White"
                               Text="设备状态" />

                </StackPanel>

                <RepeatButton x:Name="CloseButton"
                              Width="30"
                              Padding="6"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Top"
                              hc:BorderElement.CornerRadius="0"
                              hc:IconElement.Geometry="{StaticResource DeleteGeometry}"
                              Background="#1D2837"
                              Command="{Binding CloseCommand}"
                              CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                              Style="{StaticResource RepeatButtonDanger}" />

                <Border Grid.Row="1"
                        BorderBrush="Gray"
                        BorderThickness="0,2,0,0">
                    <StackPanel Grid.Row="1"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Stretch"
                                Orientation="Horizontal">

                        <Button Width="120"
                                Height="50"
                                Margin="5,0,5,0"
                                hc:IconElement.Geometry="M896 192v73.6l64 54.4V160c0-19.2-12.8-32-32-32h-192l73.6 64H896zM544 64h-64L0 480v32c0 19.2 12.8 32 32 32h96v384c0 19.2 12.8 32 32 32h256c19.2 0 32-12.8 32-32v-288h128v288c0 19.2 12.8 32 32 32h256c19.2 0 32-12.8 32-32V544h96c19.2 0 32-12.8 32-32v-32L544 64z m320 416c-19.2 0-32 12.8-32 32v384h-192v-288c0-19.2-12.8-32-32-32h-192c-19.2 0-32 12.8-32 32v288H192V512c0-19.2-12.8-32-32-32H102.4L512 128l409.6 352H864z"
                                hc:IconElement.Width="28"
                                Background="{StaticResource ButtonSelectBrush}"
                                Content="主 页"
                                FontSize="20"
                                IsHitTestVisible="{Binding HelperEnable}"
                                Style="{StaticResource ButtonPrimary}" />

                        <Button Width="120"
                                Height="50"
                                Margin="5,0,5,0"
                                hc:IconElement.Geometry="M172.6 569.5c-68.9-68.9-98.1-167-78.3-262.5a60.21 60.21 0 0 1 41.9-45.6c21.5-6.4 44.6-0.6 60.4 15.3l72.2 72.2c24.9 24.9 65.5 24.9 90.4 0 24.9-24.9 24.9-65.5 0-90.4L287 186.3c-15.8-15.8-21.7-39-15.3-60.4 6.4-21.4 23.9-37.4 45.6-41.9C413 64 511.1 93.2 580 162.1c38.9 38.9 65.7 87.8 77.6 141.3 11.3 51.3 8.5 104.7-8.3 154.4l214 214c49.9 49.9 49.9 131.1 0 181-49.9 49.9-131.1 49.9-181 0l-214-214c-49.7 16.7-103.1 19.6-154.4 8.3-53.5-11.9-102.3-38.7-141.3-77.6z m-16.8-243.3c-12.9 72.3 10 145.9 62.1 198 30.3 30.3 68.3 51.1 109.9 60.3 40.5 9 82.7 6.5 121.8-7 21.7-7.5 46.3-1.8 62.6 14.5l215.4 215.4c24.9 24.9 65.5 24.9 90.4 0 24.9-24.9 24.9-65.5 0-90.4L602.6 501.7c-16.3-16.3-22-40.9-14.5-62.6 13.5-39.2 15.9-81.3 7-121.8-9.2-41.6-30-79.6-60.3-109.9-52.1-52.1-125.7-75.1-198-62.1l67.8 67.8c49.9 49.9 49.9 131.1 0 180.9-49.9 49.9-131.1 49.9-181 0l-67.8-67.8z"
                                hc:IconElement.Width="28"
                                Command="{Binding OpenEngineerViewCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                                Content="维 护"
                                FontSize="20"
                                IsHitTestVisible="{Binding SettingEnable}">
                            <Button.Style>
                                <Style BasedOn="{StaticResource ButtonPrimary}" TargetType="Button">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Style.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource ColorAnnimation}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource ColorAnnimationBack}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <Button Width="120"
                                Height="50"
                                Margin="5,0,5,0"
                                hc:IconElement.Geometry="M512 204.8c168.96 0 307.2 138.24 307.2 307.2s-138.24 307.2-307.2 307.2-307.2-138.24-307.2-307.2 138.24-307.2 307.2-307.2m0-51.2c-197.12 0-358.4 161.28-358.4 358.4s161.28 358.4 358.4 358.4 358.4-161.28 358.4-358.4-161.28-358.4-358.4-358.4z M512 614.4c-15.36 0-25.6-10.24-25.6-25.6v-10.24c0-51.2 30.72-66.56 61.44-81.92l5.12-2.56c28.16-12.8 46.08-38.4 43.52-66.56 0-38.4-38.4-69.12-81.92-71.68-25.6 0-51.2 7.68-66.56 25.6-12.8 12.8-20.48 30.72-20.48 48.64v7.68c2.56 12.8-7.68 25.6-23.04 28.16-15.36 2.56-25.6-7.68-28.16-23.04v-12.8c0-30.72 12.8-61.44 35.84-84.48 25.6-25.6 64-40.96 104.96-38.4 71.68 2.56 130.56 56.32 133.12 120.32 2.56 48.64-25.6 92.16-74.24 112.64l-5.12 2.56c-30.72 12.8-33.28 15.36-33.28 35.84v10.24c0 15.36-10.24 25.6-25.6 25.6z M512 691.2m-25.6 0a25.6 25.6 0 1 0 51.2 0 25.6 25.6 0 1 0-51.2 0Z"
                                hc:IconElement.Width="28"
                                Command="{Binding OpenHelperViewCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                                Content="帮 助"
                                FontSize="20"
                                IsHitTestVisible="{Binding HelperEnable}">
                            <Button.Style>
                                <Style BasedOn="{StaticResource ButtonPrimary}" TargetType="Button">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Style.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource ColorAnnimation}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource ColorAnnimationBack}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                    </StackPanel>
                </Border>

                <Grid Grid.Row="2" ZIndex="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>

                    <StackPanel HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Orientation="Horizontal">
                        <TextBlock FontSize="24"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   Text="运行控制" />
                    </StackPanel>

                    <StackPanel Grid.Column="1"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Orientation="Horizontal">
                        <Button Width="80"
                                Height="40"
                                Margin="5,0,5,0"
                                hc:IconElement.Geometry="M511.091 960.558c-60.438 0-119.086-11.844-174.313-35.203-53.328-22.556-101.213-54.839-142.329-95.954-41.115-41.114-73.398-89.001-95.954-142.328-23.359-55.228-35.204-113.875-35.204-174.314 0-60.438 11.844-119.086 35.204-174.313 22.555-53.328 54.839-101.213 95.954-142.329 41.115-41.115 89.001-73.398 142.329-95.954 55.228-23.359 113.875-35.204 174.313-35.204 60.439 0 119.086 11.844 174.314 35.204 53.327 22.555 101.214 54.839 142.328 95.954 41.115 41.115 73.398 89.001 95.954 142.329 23.359 55.228 35.203 113.875 35.203 174.313 0 60.439-11.844 119.086-35.203 174.314-22.556 53.327-54.839 101.214-95.954 142.328-41.114 41.115-89.001 73.398-142.328 95.954-55.227 23.359-113.875 35.203-174.314 35.203z m0-831.599c-211.627 0-383.799 172.172-383.799 383.799s172.172 383.799 383.799 383.799S894.89 724.385 894.89 512.758 722.719 128.959 511.091 128.959z M383.908 319.996v383.887l315.949-193.775z"
                                Background="#304258"
                                Command="{Binding ActionCommand}"
                                Content="开始"
                                IsHitTestVisible="{Binding StartEnable}">
                            <Button.Style>
                                <Style BasedOn="{StaticResource ButtonPrimary}" TargetType="Button">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Style.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource StartColorAnnimation}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource StartColorAnnimationBack}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                            <Button.CommandParameter>
                                <MultiBinding Converter="{x:Static cv:MultiConverter.Instance}">
                                    <Binding ElementName="StatusLight" />
                                    <Binding Path="Content" RelativeSource="{RelativeSource Self}" />
                                </MultiBinding>
                            </Button.CommandParameter>
                        </Button>
                        <Button Width="80"
                                Height="40"
                                Margin="5,0,5,0"
                                hc:IconElement.Geometry="M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m3.008-92.992a416 416 0 1 0 0-832 416 416 0 0 0 0 832zM320 320h128v384H320V320z m256 0h128v384H576V320z"
                                Background="#304258"
                                Command="{Binding ActionCommand}"
                                Content="暂停"
                                IsHitTestVisible="{Binding PauseEnable}">
                            <Button.Style>
                                <Style BasedOn="{StaticResource ButtonPrimary}" TargetType="Button">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Style.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource PauseColorAnnimation}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource PauseColorAnnimationBack}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                            <Button.CommandParameter>
                                <MultiBinding Converter="{x:Static cv:MultiConverter.Instance}">
                                    <Binding ElementName="StatusLight" />
                                    <Binding Path="Content" RelativeSource="{RelativeSource Self}" />
                                </MultiBinding>
                            </Button.CommandParameter>
                        </Button>
                        <Button Width="80"
                                Height="40"
                                Margin="5,0,5,0"
                                hc:IconElement.Geometry="M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m3.008-92.992a416 416 0 1 0 0-832 416 416 0 0 0 0 832zM320 320h384v384H320V320z"
                                Background="#304258"
                                Command="{Binding ActionCommand}"
                                Content="停止"
                                IsHitTestVisible="{Binding StopEnable}">
                            <Button.Style>
                                <Style BasedOn="{StaticResource ButtonPrimary}" TargetType="Button">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Style.Triggers>
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource StopColorAnnimation}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <EventTrigger.Actions>
                                                <BeginStoryboard Storyboard="{StaticResource StopColorAnnimationBack}" />
                                            </EventTrigger.Actions>
                                        </EventTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                            <Button.CommandParameter>
                                <MultiBinding Converter="{x:Static cv:MultiConverter.Instance}">
                                    <Binding ElementName="StatusLight" />
                                    <Binding Path="Content" RelativeSource="{RelativeSource Self}" />
                                </MultiBinding>
                            </Button.CommandParameter>
                        </Button>

                    </StackPanel>
                </Grid>

                <Grid Row="3">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>

                    <hc:Interaction.Triggers>
                        <hc:RoutedEventTrigger RoutedEvent="hc:TabItem.Closed">
                            <hc:EventToCommand Command="{Binding DelTabItemCommand}" PassEventArgsToCommand="True" />
                        </hc:RoutedEventTrigger>
                    </hc:Interaction.Triggers>

                    <Grid.Resources>
                        <Style x:Key="TubeStyle" TargetType="Border">
                            <Setter Property="BorderThickness" Value="2" />
                            <Setter Property="BorderBrush" Value="#304258" />
                            <Setter Property="Width" Value="56" />
                            <Setter Property="Height" Value="56" />
                            <Setter Property="CornerRadius" Value="50" />
                            <Setter Property="Margin" Value="3" />
                            <Setter Property="Padding" Value="0.8,0,0,0" />
                        </Style>

                        <Style TargetType="TextBlock">
                            <Setter Property="Foreground" Value="Black" />
                            <Setter Property="FontSize" Value="16" />
                            <Setter Property="FontWeight" Value="Bold" />
                            <Setter Property="HorizontalAlignment" Value="Center" />
                            <Setter Property="VerticalAlignment" Value="Center" />
                        </Style>
                    </Grid.Resources>

                    <StackPanel Grid.RowSpan="2"
                                Grid.ColumnSpan="2"
                                Margin="2"
                                Background="{StaticResource Bg}"
                                Orientation="Vertical"
                                Visibility="{Binding IsBusy, Converter={x:Static cv:Bool2Visibiliy.instance}}"
                                ZIndex="1">
                        <hc:LoadingCircle Width="100"
                                          Height="100"
                                          Margin="0,100,0,20"
                                          DotDiameter="10"
                                          Foreground="White" />
                        <hc:RunningBlock HorizontalAlignment="Center"
                                         BorderThickness="0"
                                         Content="正在操作，请等待。。。。"
                                         FontSize="20"
                                         FontWeight="Bold"
                                         Foreground="White"
                                         Orientation="Vertical"
                                         Duration="0:0:4" />
                    </StackPanel>

                    <Grid Grid.Column="0"
                          Margin="5"
                          Background="{StaticResource GridBgBrush}">

                        <Grid.Resources>
                            <Style TargetType="TextBlock">
                                <Setter Property="Foreground" Value="White" />
                                <Setter Property="FontSize" Value="20" />
                                <Setter Property="FontWeight" Value="Bold" />
                                <Setter Property="HorizontalAlignment" Value="Center" />
                                <Setter Property="VerticalAlignment" Value="Center" />
                            </Style>
                        </Grid.Resources>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="2" />
                            <RowDefinition Height="30" />
                            <RowDefinition Height="2" />
                            <RowDefinition />
                            <RowDefinition Height="2" />
                            <RowDefinition />
                            <RowDefinition Height="2" />
                            <RowDefinition />
                            <RowDefinition Height="2" />
                            <RowDefinition />
                            <RowDefinition Height="2" />
                            <RowDefinition />
                            <RowDefinition Height="2" />
                            <RowDefinition />
                            <RowDefinition Height="2" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition Width="30" />
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition />
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition />
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition />
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition />
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition />
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition />
                            <ColumnDefinition Width="2" />
                            <ColumnDefinition />
                            <ColumnDefinition Width="2" />
                        </Grid.ColumnDefinitions>

                        <Border Grid.Row="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="2"
                                Grid.Column="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="4"
                                Grid.Column="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="6"
                                Grid.Column="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="8"
                                Grid.Column="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="10"
                                Grid.Column="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="12"
                                Grid.Column="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="14"
                                Grid.Column="0"
                                Grid.ColumnSpan="17"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="0"
                                Background="{DynamicResource GridLineBrush}" />


                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="2"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="4"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="6"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="8"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="10"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="12"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="14"
                                Background="{DynamicResource GridLineBrush}" />

                        <Border Grid.Row="0"
                                Grid.RowSpan="15"
                                Grid.Column="16"
                                Background="{DynamicResource GridLineBrush}" />


                        <TextBlock Grid.Row="1"
                                   Grid.Column="3"
                                   Text="A" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="5"
                                   Text="B" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="7"
                                   Text="C" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="9"
                                   Text="D" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="11"
                                   Text="E" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="13"
                                   Text="F" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="15"
                                   Text="G" />

                        <TextBlock Grid.Row="3"
                                   Grid.Column="1"
                                   Text="1" />
                        <TextBlock Grid.Row="5"
                                   Grid.Column="1"
                                   Text="2" />
                        <TextBlock Grid.Row="7"
                                   Grid.Column="1"
                                   Text="3" />
                        <TextBlock Grid.Row="9"
                                   Grid.Column="1"
                                   Text="4" />
                        <TextBlock Grid.Row="11"
                                   Grid.Column="1"
                                   Text="5" />
                        <TextBlock Grid.Row="13"
                                   Grid.Column="1"
                                   Text="6" />
                        <!--  A区  -->

                        <Border Grid.Row="3"
                                Grid.Column="3"
                                Background="#1D2837" />
                        <Border Grid.Row="5"
                                Grid.Column="3"
                                Background="#1D2837">
                            <Border Background="{Binding AllData[1].Color}"
                                    Style="{StaticResource TubeStyle}"
                                    Tag="1">
                                <TextBlock Text="{Binding AllData[1].Name}" />
                                <hc:Interaction.Triggers>
                                    <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                        <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                            <hc:EventToCommand.CommandParameter>
                                                <MultiBinding Converter="{StaticResource MultiConverter}">
                                                    <Binding ElementName="MethodData" Path="SelectedItem" />
                                                    <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                                </MultiBinding>
                                            </hc:EventToCommand.CommandParameter>
                                        </hc:EventToCommand>
                                    </hc:RoutedEventTrigger>
                                </hc:Interaction.Triggers>
                            </Border>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="3"
                                Background="#1D2837" />
                        <Border Grid.Row="9"
                                Grid.Column="3"
                                Background="#1D2837" />
                        <Border Grid.Row="11"
                                Grid.Column="3"
                                Background="#1D2837" />
                        <Border Grid.Row="13"
                                Grid.Column="3"
                                Background="#1D2837" />

                        <Border Grid.Row="3"
                                Grid.Column="3"
                                Background="{Binding AllData[0].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="0">
                            <TextBlock Text="{Binding AllData[0].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="5"
                                Grid.Column="3"
                                Background="{Binding AllData[1].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="1">
                            <TextBlock Text="{Binding AllData[1].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="3"
                                Background="{Binding AllData[2].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="2">
                            <TextBlock Text="{Binding AllData[2].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="9"
                                Grid.Column="3"
                                Background="{Binding AllData[3].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="3">
                            <TextBlock Text="{Binding AllData[3].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="11"
                                Grid.Column="3"
                                Background="{Binding AllData[4].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="4">
                            <TextBlock Text="{Binding AllData[4].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="13"
                                Grid.Column="3"
                                Background="{Binding AllData[5].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="5">
                            <TextBlock Text="{Binding AllData[5].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>

                        <!--  B区  -->

                        <Border Grid.Row="3"
                                Grid.Column="5"
                                Background="#1D2837" />
                        <Border Grid.Row="5"
                                Grid.Column="5"
                                Background="#1D2837" />
                        <Border Grid.Row="7"
                                Grid.Column="5"
                                Background="#1D2837" />
                        <Border Grid.Row="9"
                                Grid.Column="5"
                                Background="#1D2837" />
                        <Border Grid.Row="11"
                                Grid.Column="5"
                                Background="#1D2837" />
                        <Border Grid.Row="13"
                                Grid.Column="5"
                                Background="#1D2837" />


                        <Border Grid.Row="3"
                                Grid.Column="5"
                                Background="{Binding AllData[6].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="6">
                            <TextBlock Text="{Binding AllData[6].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="5"
                                Grid.Column="5"
                                Background="{Binding AllData[7].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="7">
                            <TextBlock Text="{Binding AllData[7].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="5"
                                Background="{Binding AllData[8].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="8">
                            <TextBlock Text="{Binding AllData[8].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="9"
                                Grid.Column="5"
                                Background="{Binding AllData[9].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="9">
                            <TextBlock Text="{Binding AllData[9].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="11"
                                Grid.Column="5"
                                Background="{Binding AllData[10].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="10">
                            <TextBlock Text="{Binding AllData[10].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="13"
                                Grid.Column="5"
                                Background="{Binding AllData[11].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="11">
                            <TextBlock Text="{Binding AllData[11].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>

                        <!--  C区  -->

                        <Border Grid.Row="3"
                                Grid.Column="7"
                                Background="#1D2837" />
                        <Border Grid.Row="5"
                                Grid.Column="7"
                                Background="#1D2837" />
                        <Border Grid.Row="7"
                                Grid.Column="7"
                                Background="#1D2837" />
                        <Border Grid.Row="9"
                                Grid.Column="7"
                                Background="#1D2837" />
                        <Border Grid.Row="11"
                                Grid.Column="7"
                                Background="#1D2837" />
                        <Border Grid.Row="13"
                                Grid.Column="7"
                                Background="#1D2837" />

                        <Border Grid.Row="3"
                                Grid.Column="7"
                                Background="{Binding AllData[12].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="12">
                            <TextBlock Text="{Binding AllData[12].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="5"
                                Grid.Column="7"
                                Background="{Binding AllData[13].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="13">
                            <TextBlock Text="{Binding AllData[13].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="7"
                                Background="{Binding AllData[14].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="14">
                            <TextBlock Text="{Binding AllData[14].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="9"
                                Grid.Column="7"
                                Background="{Binding AllData[15].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="15">
                            <TextBlock Text="{Binding AllData[15].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="11"
                                Grid.Column="7"
                                Background="{Binding AllData[16].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="16">
                            <TextBlock Text="{Binding AllData[16].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="13"
                                Grid.Column="7"
                                Background="{Binding AllData[17].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="17">
                            <TextBlock Text="{Binding AllData[17].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>

                        <!--  D区  -->

                        <Border Grid.Row="3"
                                Grid.Column="9"
                                Background="#1D2837" />
                        <Border Grid.Row="5"
                                Grid.Column="9"
                                Background="#1D2837" />
                        <Border Grid.Row="7"
                                Grid.Column="9"
                                Background="#1D2837" />
                        <Border Grid.Row="9"
                                Grid.Column="9"
                                Background="#1D2837" />
                        <Border Grid.Row="11"
                                Grid.Column="9"
                                Background="#1D2837" />
                        <Border Grid.Row="13"
                                Grid.Column="9"
                                Background="#1D2837" />

                        <Border Grid.Row="3"
                                Grid.Column="9"
                                Background="{Binding AllData[18].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="18">
                            <TextBlock Text="{Binding AllData[18].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="5"
                                Grid.Column="9"
                                Background="{Binding AllData[19].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="19">
                            <TextBlock Text="{Binding AllData[19].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="9"
                                Background="{Binding AllData[20].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="20">
                            <TextBlock Text="{Binding AllData[20].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="9"
                                Grid.Column="9"
                                Background="{Binding AllData[21].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="21">
                            <TextBlock Text="{Binding AllData[21].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="11"
                                Grid.Column="9"
                                Background="{Binding AllData[22].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="22">
                            <TextBlock Text="{Binding AllData[22].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="13"
                                Grid.Column="9"
                                Background="{Binding AllData[23].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="23">
                            <TextBlock Text="{Binding AllData[23].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>

                        <!--  E区  -->

                        <Border Grid.Row="3"
                                Grid.Column="11"
                                Background="#1D2837" />
                        <Border Grid.Row="5"
                                Grid.Column="11"
                                Background="#1D2837" />
                        <Border Grid.Row="7"
                                Grid.Column="11"
                                Background="#1D2837" />
                        <Border Grid.Row="9"
                                Grid.Column="11"
                                Background="#1D2837" />
                        <Border Grid.Row="11"
                                Grid.Column="11"
                                Background="#1D2837" />
                        <Border Grid.Row="13"
                                Grid.Column="11"
                                Background="#1D2837" />

                        <Border Grid.Row="3"
                                Grid.Column="11"
                                Background="{Binding AllData[24].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="24">
                            <TextBlock Text="{Binding AllData[24].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="5"
                                Grid.Column="11"
                                Background="{Binding AllData[25].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="25">
                            <TextBlock Text="{Binding AllData[25].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="11"
                                Background="{Binding AllData[26].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="26">
                            <TextBlock Text="{Binding AllData[26].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="9"
                                Grid.Column="11"
                                Background="{Binding AllData[27].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="27">
                            <TextBlock Text="{Binding AllData[27].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="11"
                                Grid.Column="11"
                                Background="{Binding AllData[28].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="28">
                            <TextBlock Text="{Binding AllData[28].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="13"
                                Grid.Column="11"
                                Background="{Binding AllData[29].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="29">
                            <TextBlock Text="{Binding AllData[29].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>

                        <!--  F区  -->

                        <Border Grid.Row="3"
                                Grid.Column="13"
                                Background="#1D2837" />
                        <Border Grid.Row="5"
                                Grid.Column="13"
                                Background="#1D2837" />
                        <Border Grid.Row="7"
                                Grid.Column="13"
                                Background="#1D2837" />
                        <Border Grid.Row="9"
                                Grid.Column="13"
                                Background="#1D2837" />
                        <Border Grid.Row="11"
                                Grid.Column="13"
                                Background="#1D2837" />
                        <Border Grid.Row="13"
                                Grid.Column="13"
                                Background="#1D2837" />

                        <Border Grid.Row="3"
                                Grid.Column="13"
                                Background="{Binding AllData[30].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="30">
                            <TextBlock Text="{Binding AllData[30].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="5"
                                Grid.Column="13"
                                Background="{Binding AllData[31].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="31">
                            <TextBlock Text="{Binding AllData[31].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="13"
                                Background="{Binding AllData[32].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="32">
                            <TextBlock Text="{Binding AllData[32].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="9"
                                Grid.Column="13"
                                Background="{Binding AllData[33].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="33">
                            <TextBlock Text="{Binding AllData[33].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="11"
                                Grid.Column="13"
                                Background="{Binding AllData[34].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="34">
                            <TextBlock Text="{Binding AllData[34].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="13"
                                Grid.Column="13"
                                Background="{Binding AllData[35].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="35">
                            <TextBlock Text="{Binding AllData[35].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>

                        <!--  G区  -->

                        <Border Grid.Row="3"
                                Grid.Column="15"
                                Background="#1D2837" />
                        <Border Grid.Row="5"
                                Grid.Column="15"
                                Background="#1D2837" />
                        <Border Grid.Row="7"
                                Grid.Column="15"
                                Background="#1D2837" />
                        <Border Grid.Row="9"
                                Grid.Column="15"
                                Background="#1D2837" />
                        <Border Grid.Row="11"
                                Grid.Column="15"
                                Background="#1D2837" />
                        <Border Grid.Row="13"
                                Grid.Column="15"
                                Background="#1D2837" />

                        <Border Grid.Row="3"
                                Grid.Column="15"
                                Background="{Binding AllData[36].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="36">
                            <TextBlock Text="{Binding AllData[36].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="5"
                                Grid.Column="15"
                                Background="{Binding AllData[37].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="37">
                            <TextBlock Text="{Binding AllData[37].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="7"
                                Grid.Column="15"
                                Background="{Binding AllData[38].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="38">
                            <TextBlock Text="{Binding AllData[38].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="9"
                                Grid.Column="15"
                                Background="{Binding AllData[39].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="39">
                            <TextBlock Text="{Binding AllData[39].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="11"
                                Grid.Column="15"
                                Background="{Binding AllData[40].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="40">
                            <TextBlock Text="{Binding AllData[40].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>
                        <Border Grid.Row="13"
                                Grid.Column="15"
                                Background="{Binding AllData[41].Color}"
                                Style="{StaticResource TubeStyle}"
                                Tag="41">
                            <TextBlock Text="{Binding AllData[41].Name}" />
                            <hc:Interaction.Triggers>
                                <hc:RoutedEventTrigger RoutedEvent="Mouse.MouseDown">
                                    <hc:EventToCommand Command="{Binding DeployMethodCommand}" PassEventArgsToCommand="True">
                                        <hc:EventToCommand.CommandParameter>
                                            <MultiBinding Converter="{StaticResource MultiConverter}">
                                                <Binding ElementName="MethodData" Path="SelectedItem" />
                                                <Binding RelativeSource="{RelativeSource FindAncestor, AncestorType=Border}" />
                                            </MultiBinding>
                                        </hc:EventToCommand.CommandParameter>
                                    </hc:EventToCommand>
                                </hc:RoutedEventTrigger>
                            </hc:Interaction.Triggers>
                        </Border>

                    </Grid>

                    <hc:TabControl x:Name="MethodData"
                                   Grid.Column="1"
                                   Margin="5"
                                   IsAnimationEnabled="True"
                                   IsScrollable="True"
                                   ItemsSource="{Binding MethodItems}"
                                   SelectedIndex="0"
                                   ShowCloseButton="False"
                                   ShowContextMenu="False"
                                   ShowOverflowButton="False"
                                   ShowScrollButton="True"
                                   Style="{DynamicResource ExtendTabControl}"
                                   TabItemWidth="72">
                        <!--<hc:TabControl.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <Button Grid.Column="2"
                                    Margin="0 0 22 0"
                                    Focusable="False"
                                    VerticalContentAlignment="Center"
                                    HorizontalContentAlignment="Center"
                                    SnapsToDevicePixels="True"
                                    Visibility="{Binding ShowClose,Converter={StaticResource Bool2Visibiliy}}"
                                    Command="{Binding DataContext.ItemCloseCommand, RelativeSource={RelativeSource AncestorType=TabControl,Mode=FindAncestor}}"
                                    CommandParameter="{Binding DataContext , RelativeSource={RelativeSource AncestorType=hc:TabItem,Mode=FindAncestor}}"
                                    Background="Transparent"
                                    Style="{StaticResource ButtonCustom}"
                                    Width="13">
                                <Path Fill="{DynamicResource PrimaryTextBrush}"
                                      Width="9"
                                      Height="9"
                                      Stretch="Uniform"
                                      Style="{StaticResource ClosePathStyle}" />
                            </Button>
                            <TextBlock Text="{Binding Name}" />
                        </StackPanel>
                    </DataTemplate>
                </hc:TabControl.ItemTemplate>-->
                        <hc:TabControl.ContentTemplate>
                            <DataTemplate>
                                <DataTemplate.Resources>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="FontSize" Value="18" />
                                        <Setter Property="FontWeight" Value="Black" />
                                        <Setter Property="Foreground" Value="White" />
                                        <Setter Property="VerticalAlignment" Value="Center" />
                                    </Style>
                                </DataTemplate.Resources>
                                <Grid Background="{Binding Color}">
                                    <StackPanel HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Orientation="Vertical">

                                        <StackPanel Margin="0,0,0,50"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Orientation="Horizontal">
                                            <TextBlock VerticalAlignment="Center" Text="吸取体积: " />
                                            <hc:NumericUpDown Width="68"
                                                              DecimalPlaces="1"
                                                              Maximum="10"
                                                              Minimum="0.1"
                                                              Value="{Binding Value}" />
                                            <TextBlock VerticalAlignment="Center" Text=" 毫升" />
                                        </StackPanel>

                                        <StackPanel Margin="0,0,0,20"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Orientation="Horizontal">
                                            <TextBlock VerticalAlignment="Center" Text="洗针时间: " />
                                            <hc:NumericUpDown Width="68"
                                                              Maximum="10"
                                                              Minimum="1"
                                                              Value="{Binding Time}" />
                                            <TextBlock VerticalAlignment="Center" Text=" 秒" />
                                        </StackPanel>

                                        <Button Width="80"
                                                Height="40"
                                                Content="确定"
                                                FontWeight="Bold">
                                            <Button.Style>
                                                <Style BasedOn="{StaticResource ButtonPrimary}" TargetType="Button">
                                                    <Setter Property="Background" Value="#1A7985" />
                                                    <Style.Triggers>
                                                        <EventTrigger RoutedEvent="MouseEnter">
                                                            <EventTrigger.Actions>
                                                                <BeginStoryboard Storyboard="{StaticResource ColorAnnimation}" />
                                                            </EventTrigger.Actions>
                                                        </EventTrigger>
                                                        <EventTrigger RoutedEvent="MouseLeave">
                                                            <EventTrigger.Actions>
                                                                <BeginStoryboard Storyboard="{StaticResource ColorAnnimationBack}" />
                                                            </EventTrigger.Actions>
                                                        </EventTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Button.Style>

                                        </Button>
                                    </StackPanel>

                                </Grid>
                            </DataTemplate>
                        </hc:TabControl.ContentTemplate>
                        <hc:TabControl.Resources>
                            <Style TargetType="hc:TabItem">
                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                <Setter Property="Foreground" Value="White" />
                                <Setter Property="Margin" Value="0,0,2,-1" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="hc:TabItem">
                                            <Grid x:Name="templateRoot" SnapsToDevicePixels="true">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>
                                                <Border x:Name="Borderedge"
                                                        Grid.ColumnSpan="2"
                                                        Background="{Binding Color}"
                                                        BorderBrush="{StaticResource BorderBrush}"
                                                        BorderThickness="0,0,0,0" />
                                                <ContentPresenter x:Name="contentPresenter"
                                                                  Grid.Column="0"
                                                                  Margin="{TemplateBinding Padding}"
                                                                  HorizontalAlignment="Stretch"
                                                                  VerticalAlignment="Center"
                                                                  Content="{Binding Name}"
                                                                  ContentSource="Header"
                                                                  Focusable="False"
                                                                  RecognizesAccessKey="True"
                                                                  SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                                <Button Grid.Column="1"
                                                        Margin="6,6,10,5"
                                                        HorizontalContentAlignment="Center"
                                                        VerticalContentAlignment="Center"
                                                        Background="Transparent"
                                                        Command="{Binding DataContext.ItemCloseCommand, RelativeSource={RelativeSource AncestorType=TabControl, Mode=FindAncestor}}"
                                                        CommandParameter="{Binding DataContext, RelativeSource={RelativeSource AncestorType=hc:TabItem, Mode=FindAncestor}}"
                                                        Focusable="False"
                                                        SnapsToDevicePixels="True"
                                                        Style="{StaticResource ButtonCustom}"
                                                        Visibility="{Binding ShowClose, Converter={StaticResource Bool2Visibiliy}}">
                                                    <Path Width="9"
                                                          Height="9"
                                                          Fill="White"
                                                          Stretch="Uniform"
                                                          Style="{StaticResource ClosePathStyle}" />
                                                </Button>
                                            </Grid>

                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsSelected" Value="true">
                                                    <Setter Property="Panel.ZIndex" Value="1" />
                                                    <Setter TargetName="Borderedge" Property="Background" Value="#009FE8" />
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </hc:TabControl.Resources>
                    </hc:TabControl>
                </Grid>

            </Grid>

        </Border>
    </hc:TransitioningContentControl>

</Window>
